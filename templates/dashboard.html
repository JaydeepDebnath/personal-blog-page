{% extends 'base.html' %}
{% block title %}Dashboard - Portfolio Blog{% endblock %}

{% block content %}
<h1 class="page-title">Dashboard</h1>

<p>Welcome, {{ current_user.username }}!</p>
<a href="{{ url_for('main.create_post') }}" class="btn">+ Create New Post</a>

{% if posts %}
  <div class="dashboard-list">
    {% for post in posts %}
      <div class="dashboard-item">
        <h2>{{ post.title }}</h2>
        <p>{{ post.description[:150] }}...</p>
        <div class="actions">
          <a href="{{ url_for('main.view_post', post_id=post.id) }}" class="btn small">View</a>
          <a href="{{ url_for('main.edit_post', post_id=post.id) }}" class="btn small edit">Edit</a>
          <form action="{{ url_for('main.delete_post', post_id=post.id) }}" method="POST" style="display:inline;">
            <button type="submit" class="btn small delete" onclick="return confirm('Delete this post?');">Delete</button>
          </form>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No posts created yet.</p>
{% endif %}
{% endblock %}
